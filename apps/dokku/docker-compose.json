{
    "$schema": "../dynamic-compose-schema.json",
    "services": [
        {
            "name": "dokku",
            "image": "dokku/dokku:0.35.20",
            "isMain": true,
            "internalPort": 80,
            "environment": {
                "DOKKU_HOSTNAME": "${DOKKU_HOSTNAME}",
                "DOKKU_HOST_ROOT": "/mnt/dokku/root",
                "DOKKU_LIB_HOST_ROOT": "/mnt/dokku/cache"
            },
            "volumes": [
                {
                    "hostPath": "${APP_DATA_DIR}/data",
                    "containerPath": "/mnt/dokku"
                }
            ],
            "addPorts": [
                {
                    "hostPort": 3022,
                    "containerPort": 22
                }
            ]
        }
    ]
}